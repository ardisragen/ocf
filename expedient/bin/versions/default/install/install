#!/bin/bash

###
#       @author: msune
#	@organization: i2CAT
#	@project: Ofelia FP7
#	@description: install module 
###

#Inform user
printHeader ">" "Using default install module..."


#Install dependencies
printHeader ">" "Installing dependencies through apt-get..."
source $CURRENT_DIRECTORY/lib/dependencies || error "Cannot import dependencies file" $NO_RESCUE
/usr/bin/apt-get update || error "Could not update repositories (apt-get). Do you have connectivity?" $NO_RESCUE 
/usr/bin/apt-get -y install $DEBIAN_DEPENDENCIES || error "Could not install dependencies (apt-get)" $NO_RESCUE 

#apt-get start apache => stop it

print ""

printHeader ">" "Installing remaining dependencies through easy_install..."
/usr/bin/easy_install $EASY_INSTALL_DEPENDENCIES || error "Could not install dependencies (easy_install)" $NO_RESCUE 

print ""

printHeader ">" "Enabling macro and ssl module..."
/usr/sbin/a2enmod macro || warn "Could not enable macro module" "; maybe already enabled?"
/usr/sbin/a2enmod ssl || warn "Could not enable ssl module" "; maybe already enabled?"

#Build ssl certs
source $CURRENT_DIRECTORY/lib/ssl
