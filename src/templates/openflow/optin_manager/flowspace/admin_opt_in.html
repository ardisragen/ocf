{% extends "base.html" %}

{% block content %}
<div class="main">
	<h2>Opt Traffic In, for Admin {{user.username}}</h2>
	<div align="right">
		<a href="/dashboard">Dashboard</a><br/>
	</div>	
	<form name="input" action="/flowspace/opt_in" method="post">{% csrf_token %}
		{{form.errors.general}}
		<table>
		<tr>
		<td><label>Experiment</label>
		</td><td>
			<select name="experiment">
				{% for exp in experiments %}
				<option value="{{exp.id}}" {%ifequal defexp exp.id%} default {% endifequal %}>
				{{exp.project_name}}:{{exp.slice_name}}
				</option>
				{% endfor %}
			</select>
		</td>
		</tr><tr>
		<td>
			<label for="id_priority">Priority</label>
		</td><td>
			{{form.priority}}
		</td><td>{{form.errors.priority}}</td>
		</tr><tr>
		<td>
			<label for="id_mac_from">Source MAC address</label>
		</td><td>
			{{form.mac_from}}
		</td><td>{{form.errors.mac_from}}</td>
		</tr><tr>
		<td>
			<label for="id_mac_to">Destination MAC address</label>
		</td><td>
			{{form.mac_to}}
		</td><td>{{form.errors.mac_to}}</td>
		</tr><tr>
		<td>
			<label>VLAN Range</label>
		</td><td>
			{{form.vlan_id_s}} - {{form.vlan_id_e}}
		</td><td>{{form.errors.vlan_id_s}}{{form.errors.vlan_id_s}}</td>
		</tr><tr>
		<td>
			<label>Source IP Address</label>
		</td><td>
			{{form.ip_from_s}} - {{form.ip_from_e}}
		</td><td>{{form.errors.ip_from_s}}{{form.errors.ip_from_e}}</td>
		</tr><tr>
		<td>
			<label>Destination IP Address</label>
		</td><td>
			{{form.ip_to_s}} - {{form.ip_to_e}}
		</td><td>{{form.errors.ip_to_s}}{{form.errors.ip_to_e}}</td>
		</tr><tr>
		<td>
			<label>IP Protocol Range</label>
		</td><td>
			{{form.ip_proto_s}} - {{form.ip_proto_e}}
		</td><td>{{form.errors.ip_proto_s}}{{form.errors.ip_proto_e}}</td>
		</tr><tr>
		<td>
			<label>Transport Source Port Range</label>
		</td><td>
			{{form.tp_from_s}} - {{form.tp_from_e}}
		</td><td>{{form.errors.tp_from_s}}{{form.errors.tp_from_e}}</td>
		</tr><tr>
		<td>
			<label>Transport Destination Port Range</label>
		</td><td>
			{{form.tp_to_s}} - {{form.tp_to_e}}
		</td><td>{{form.errors.tp_to_s}}{{form.errors.tp_to_e}}</td>
		</tr>
		</table>
		<input type="submit" value="Opt In"/>
	</form>
</div>

{% endblock content %}
